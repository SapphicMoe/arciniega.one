---
import { ViewTransitions } from 'astro:transitions';

import HeadMeta from '@components/base/HeadMeta.astro';

const {
  misc: {
    plausible,
    plausible: { options },
  },
} = await import('@config');

interface Props {
  description?: string;
  pageTitle: string;
  title: string;
  ogImage?: {
    src?: string;
    alt?: string;
  };
}

const { description, pageTitle, title, ogImage } = Astro.props;

const IS_PRODUCTION = import.meta.env.MODE === 'production';
---

<head>
  {IS_PRODUCTION && !!plausible.enabled && <script defer {...options} />}

  <HeadMeta {description} {pageTitle} {title} {ogImage} />
  <ViewTransitions />

  <slot />
</head>
