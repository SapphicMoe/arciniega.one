---
import { base, misc } from '@config';
import { ViewTransitions } from 'astro:transitions';

import HeadMeta from '@components/base/HeadMeta.astro';

const { description, pageTitle, title } = Astro.props;

const IS_PRODUCTION = import.meta.env.MODE === 'production';
---

<head>
  {
    IS_PRODUCTION && !!misc.analytics && !!base.siteName && (
      <script defer data-domain={base.siteName} data-api="/api/event" src="/js/script.js" />
    )
  }

  <HeadMeta {description} {pageTitle} {title} />
  <ViewTransitions />

  <slot />
</head>
